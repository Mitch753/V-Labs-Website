/*! For license information please see tools.min.js.LICENSE.txt */
(globalThis.itsecWebpackJsonP=globalThis.itsecWebpackJsonP||[]).push([[2719],{3075:e=>{e.exports=function(){return this.wp.i18n}()},4213:function(e,t,n){var r,s;void 0===(s="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,n,i){var a=o.URL||o.webkitURL,c=document.createElement("a");n=n||e.name||"download",c.download=n,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?s(c):r(c.href)?t(e,n,i):s(c,c.target="_blank")):(c.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(c.href)}),4e4),setTimeout((function(){s(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),n);else if(r(e))t(e,n,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,n,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var a="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&c||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},u.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(e);s?s.location=p:location.href=p,s=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});o.saveAs=a.saveAs=a,e.exports=a})?r.apply(t,[]):r)||(e.exports=s)},8601:e=>{e.exports=function(){return this.wp.element}()},22642:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(51609),s=n(55933);const o=(0,r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(s.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}))},30267:e=>{e.exports=function(){return this.itsec.pages.tools}()},31987:e=>{e.exports=function(){return this.wp.data}()},38125:e=>{e.exports=function(){return this.wp.plugins}()},39959:e=>{e.exports=function(){return this.wp.components}()},46627:e=>{e.exports=function(){return this.itsec.packages.data}()},46814:e=>{e.exports=function(){return this.itsec["import-export"].data}()},50444:e=>{e.exports=function(){return this.itsec["import-export"].ui}()},51609:e=>{"use strict";e.exports=window.React},55933:e=>{e.exports=function(){return this.wp.primitives}()},66087:e=>{"use strict";e.exports=window.lodash},75795:e=>{"use strict";e.exports=window.ReactDOM},76154:e=>{"use strict";e.exports=window.moment},77172:e=>{e.exports=function(){return this.wp.url}()},79860:e=>{e.exports=function(){return this.wp.keycodes}()},84279:(e,t,n)=>{"use strict";var r=n(51609),s=n(38125),o=n(3075),i=n(30267),a=n(66087),c=n(4213),l=n(54625),u=n(89959),d=n(31987),p=n(8601),m=n(55933);const h=(0,r.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(m.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})),f=(0,r.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(m.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"}));var w=n(22642),v=n(53390),E=n(4319),g=n(98883),y=n(62932),x=n(46814),b=n(50444),R=n(81923),k=n(39959);const L=(0,R.A)(v.DZ,{target:"e1l8ww4k4"})({name:"1oax00r",styles:"margin:1rem 0"}),A=(0,R.A)(k.Card,{target:"e1l8ww4k3"})("box-shadow:none!important;border:1px solid ",(({theme:e})=>e.colors.border.normal),";"),S=(0,R.A)(k.CardHeader,{target:"e1l8ww4k2"})({name:"477tvm",styles:"padding:0.5rem 1.25rem!important"}),O=(0,R.A)("div",{target:"e1l8ww4k1"})("display:flex;flex-direction:column;justify-content:flex-end;gap:1.25rem;@media screen and (min-width: ",(({theme:e})=>e.breaks.small),"px){flex-direction:row;}"),M=(0,R.A)(k.CardBody,{target:"e1l8ww4k0"})({name:"12rqmfr",styles:"&.components-card__body{padding:0;}"}),C=e=>new Promise((t=>setTimeout(t,e)));function B(){const[e,t]=(0,p.useState)(!1),[n,s]=(0,p.useState)(!1),[i,m,R,k]=(0,g.ob)(),{exports:B,sources:T,isLoading:_}=(0,d.useSelect)((e=>({exports:e(x.STORE_NAME).getExports(),sources:e(x.STORE_NAME).getSources(),isLoading:!e(x.STORE_NAME).hasFinishedResolution("getExports")})),[]),{deleteExports:N}=(0,d.useDispatch)(x.STORE_NAME),I=(0,y.aZ)("settings","/import");return(0,r.createElement)(React.Fragment,null,(0,r.createElement)(L,{level:2,size:v.$C.LARGE,variant:v.J3.DARK,weight:600,text:(0,o.__)("Import and Export","it-l10n-ithemes-security-pro")}),(0,r.createElement)(A,null,(0,r.createElement)(S,{size:"extraSmall",isBorderless:!0},(0,r.createElement)(O,null,(0,r.createElement)(v.$n,{icon:h,variant:"tertiary",text:(0,o.__)("Download","it-l10n-ithemes-security-pro"),disabled:0===i.length||n,isBusy:n,onClick:async()=>{s(!0);for(const e of B)if(i.includes(e.id)){const t=new window.Blob([JSON.stringify((0,a.omit)(e,["_links"]))],{type:"text/plain;charset=utf-8"}),n=e.metadata.title?(0,a.kebabCase)(e.metadata.title):(0,u.gmdate)("y-m-d",e.metadata.exported_at);(0,c.saveAs)(t,`itsec-export-${n}.json`),await C(1e3)}s(!1)}}),(0,r.createElement)(v.$n,{icon:f,variant:"tertiary",text:(0,o.__)("Delete","it-l10n-ithemes-security-pro"),disabled:0===i.length||e,isBusy:e,onClick:async()=>{t(!0),await N(i),t(!1),k([])}})),(0,r.createElement)(E.g8,null),(0,r.createElement)(O,null,(0,r.createElement)(v.$n,{href:I,icon:w.A,variant:"tertiary",text:(0,o.__)("Import","it-l10n-ithemes-security-pro")}),(0,r.createElement)(l.N_,{to:"/export",component:(0,g.kk)(v.$n),variant:"secondary"},(0,o.__)("Create New Export","it-l10n-ithemes-security-pro")))),(0,r.createElement)(M,null,(0,r.createElement)(b.ExportsList,{exports:B,sources:T,selected:i,addSelected:m,removeSelected:R,setSelected:k,isLoading:_}))))}const T=(0,R.A)(v.Mf,{target:"e13pti2t0"})({name:"1oax00r",styles:"margin:1rem 0"});function _(){const{sources:e,isCreating:t,lastResult:n}=(0,d.useSelect)((e=>({sources:e(x.STORE_NAME).getSources(),isCreating:e(x.STORE_NAME).isCreatingExport(),lastResult:e(x.STORE_NAME).getLastCreatedExportResult()})),[]),{createExport:s}=(0,d.useDispatch)(x.STORE_NAME);return(0,r.createElement)(i.PageContainer,null,(0,r.createElement)(i.PageHeader,null),n?.isSuccess()&&(0,r.createElement)(T,{type:"success",hasBorder:!0,messages:[(0,o.__)("Export created.","it-l10n-ithemes-security-pro")]}),(0,r.createElement)(N,{result:n,hasBorder:!0}),e.length>0&&(0,r.createElement)(b.ExportForm,{sources:e,isCreating:t,createExport:s,titleRequired:!0}))}function N({result:e,hasBorder:t}){var n,s,o;return(0,r.createElement)(React.Fragment,null,(0,r.createElement)(v.Mf,{hasBorder:t,messages:null!==(n=e?.success)&&void 0!==n?n:[],type:"success"}),(0,r.createElement)(v.Mf,{hasBorder:t,messages:null!==(s=e?.warning)&&void 0!==s?s:[],type:"warning"}),(0,r.createElement)(v.Mf,{hasBorder:t,messages:null!==(o=e?.info)&&void 0!==o?o:[],type:"info"}))}function I(){return(0,r.createElement)(React.Fragment,null,(0,r.createElement)(i.BeforeImportExportToolsFill,null,(0,r.createElement)(B,null)),(0,r.createElement)(i.ExportFill,null,(0,r.createElement)(_,null)))}n.p=window.itsecWebpackPublicPath,(0,o.setLocaleData)({"":{}},"ithemes-security-pro"),(0,s.registerPlugin)("itsec-import-export-tools",{render:()=>(0,r.createElement)(I,null)})},85631:e=>{e.exports=function(){return this.wp.apiFetch}()},89897:e=>{e.exports=function(){return this.wp.compose}()},89959:e=>{e.exports=function(){return this.wp.date}()},98883:(e,t,n)=>{"use strict";n.d(t,{Yb:()=>v,ML:()=>E,$I:()=>y,Mj:()=>x,SV:()=>b,ob:()=>R,ee:()=>w,sy:()=>l,qY:()=>u,kk:()=>h,wl:()=>m,pq:()=>a,xl:()=>p});var r=n(58168),s=n(51609),o=n(8601),i=n(89897);function a(e){return(0,i.createHigherOrderComponent)((t=>class extends o.Component{render(){return(0,s.createElement)(t,(0,r.A)({},this.props,e))}}),"withProps")}var c=n(66087);function l(e,t,n={}){return(0,i.createHigherOrderComponent)((r=>class extends o.Component{constructor(){super(...arguments),this.debouncedPropInvoke=(0,c.debounce)(((...t)=>this.props[e](...t)),"function"==typeof t?t(this.props):t,n),this.handler=(e,...t)=>(e&&"function"==typeof e.persist&&e.persist(),this.debouncedPropInvoke(e,...t))}componentWillUnmount(){this.debouncedPropInvoke.cancel()}render(){const t={...this.props,[e]:this.handler};return(0,s.createElement)(r,t)}}),"withDebounceHandler")}function u(e,t){let n;return n=(0,c.isFunction)(t)?[{delay:e,cb:t}]:e,(0,i.createHigherOrderComponent)((e=>class extends o.Component{constructor(){super(...arguments),this.intervalIds=[]}componentDidMount(){for(const e of n)(t=>{this.intervalIds.push(setInterval((()=>t(this.props)),e.delay))})(e.cb)}componentWillUnmount(){this.intervalIds.forEach(clearInterval)}render(){return(0,s.createElement)(e,this.props)}}),"withInterval")}var d=n(64467);const p=(0,i.createHigherOrderComponent)((e=>class extends o.Component{constructor(...e){super(...e),(0,d.A)(this,"state",{width:1280}),(0,d.A)(this,"mounted",!1),(0,d.A)(this,"containerRef",(0,o.createRef)()),(0,d.A)(this,"resizeObserver",null),(0,d.A)(this,"onWindowResize",(()=>{if(!this.mounted||!this.containerRef.current)return;const e=this.containerRef.current.offsetWidth;this.setState({width:e})}))}componentDidMount(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize);const e=document.getElementById("collapse-button");e?.addEventListener("click",this.onWindowResize),"ResizeObserver"in window&&this.containerRef.current?(this.resizeObserver=new window.ResizeObserver((([e])=>{if(!this.mounted)return;const t=Math.round(e.contentRect.width);this.setState({width:t})})),this.resizeObserver.observe(this.containerRef.current)):this.onWindowResize()}componentWillUnmount(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize);const e=document.getElementById("collapse-button");e?.removeEventListener("click",this.onWindowResize),this.resizeObserver?.disconnect()}render(){const{measureBeforeMount:t=!1,className:n,style:o,...i}=this.props;return t&&!this.mounted?(0,s.createElement)("div",{className:n,style:o,ref:this.containerRef}):(0,s.createElement)("div",{ref:this.containerRef,className:n,style:o},(0,s.createElement)(e,(0,r.A)({},i,{width:this.state.width+20})))}}),"withWidth"),m=(0,i.createHigherOrderComponent)((e=>class extends o.Component{constructor(){super(...arguments),(0,d.A)(this,"state",{pressed:{shift:!1,ctrl:!1,meta:!1,alt:!1}}),(0,d.A)(this,"mounted",!1),this.listener=this.listener.bind(this),this.onBlur=this.onBlur.bind(this)}componentDidMount(){this.mounted=!0,window.addEventListener("keydown",this.listener),window.addEventListener("keyup",this.listener),window.addEventListener("click",this.listener),window.addEventListener("blur",this.onBlur)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("keydown",this.listener),window.removeEventListener("keyup",this.listener),window.removeEventListener("click",this.listener),window.removeEventListener("blur",this.onBlur)}listener(e){this.mounted&&this.setState({pressed:{shift:e.shiftKey,ctrl:e.ctrlKey,meta:e.metaKey,alt:e.altKey}})}onBlur(){this.setState({pressed:{shift:!1,ctrl:!1,meta:!1,alt:!1}})}render(){return(0,s.createElement)(e,(0,r.A)({pressedModifierKeys:this.state.pressed},this.props))}}),"withPressedModifierKeys"),h=(0,i.createHigherOrderComponent)((e=>function({navigate:t,...n}){return(0,s.createElement)(e,(0,r.A)({},n,{onClick:e=>{try{n.onClick&&n.onClick(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||n.target&&"_self"!==n.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),t())}}))}),"withNavigate"),f=new WeakMap;function w(e,t){(0,o.useLayoutEffect)((()=>{f.has(e)||(t(),f.set(e,!0))}),[])}function v(e,t=!0){const[n,r]=(0,o.useState)("idle"),[s,i]=(0,o.useState)(null),[a,c]=(0,o.useState)(null),l=(0,o.useCallback)(((...t)=>(r("pending"),c(null),e(...t).then((e=>{i(e),r("success")})).catch((e=>{c(e),i(null),r("error")})))),[e]);return(0,o.useEffect)((()=>{t&&l()}),[l,t]),{execute:l,status:n,value:s,error:a}}function E(e,t,n=window){const r=(0,o.useRef)();(0,o.useEffect)((()=>{r.current=t}),[t]),(0,o.useEffect)((()=>{if(!n||!n.addEventListener)return;const t=e=>r.current(e);return n.addEventListener(e,t),()=>n.removeEventListener(e,t)}),[e,n])}const g=["button","submit"];function y(e){const t=(0,o.useRef)(e);(0,o.useEffect)((()=>{t.current=e}),[e]);const n=(0,o.useRef)(!1),r=(0,o.useRef)(),s=(0,o.useCallback)((()=>{clearTimeout(r.current)}),[]);(0,o.useEffect)((()=>()=>s()),[]),(0,o.useEffect)((()=>{e||s()}),[e,s]);const i=(0,o.useCallback)((e=>{const{type:t,target:r}=e;(0,c.includes)(["mouseup","touchend"],t)?n.current=!1:function(e){if(!(e instanceof window.HTMLElement))return!1;switch(e.nodeName){case"A":case"BUTTON":return!0;case"INPUT":return(0,c.includes)(g,e.type)}return!1}(r)&&(n.current=!0)}),[]),a=(0,o.useCallback)((e=>{e.persist(),n.current||(r.current=setTimeout((()=>{document.hasFocus()?"function"==typeof t.current&&t.current(e):e.preventDefault()}),0))}),[]);return{onFocus:s,onMouseDown:i,onMouseUp:i,onTouchStart:i,onTouchEnd:i,onBlur:a}}function x(e,t){const[n,r]=(0,o.useState)((()=>{try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(e){return console.error(e),t}}));return[n,t=>{try{const s=t instanceof Function?t(n):t;r(s),window.localStorage.setItem(e,JSON.stringify(s))}catch(e){console.error(e)}}]}function b(e){const t=(0,o.useRef)(null),n=(0,o.useRef)(!1),r=(0,o.useRef)(e),s=(0,o.useRef)(e);return s.current=e,(0,o.useLayoutEffect)((()=>{e.forEach(((e,s)=>{const o=r.current[s];"function"==typeof e&&e!==o&&!1===n.current&&(o(null),e(t.current))})),r.current=e}),e),(0,o.useLayoutEffect)((()=>{n.current=!1})),(0,o.useCallback)((e=>{t.current=e,n.current=!0,(e?s.current:r.current).forEach((t=>{"function"==typeof t?t(e):t&&t.hasOwnProperty("current")&&(t.current=e)}))}),[])}function R(e=[]){const[t,n]=(0,o.useState)(e);return[t,(0,o.useCallback)((e=>n((t=>[...t,e]))),[]),(0,o.useCallback)((e=>n((t=>t.filter((t=>t!==e))))),[]),n]}n(31987),n(46627)}},e=>{e.O(0,[9427,3390,2038,3733,6815,2932,3520,4319],(()=>e(e.s=84279)));var t=e.O();((window.itsec=window.itsec||{})["import-export"]=window.itsec["import-export"]||{}).tools=t}]);